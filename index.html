<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabuleiro Interativo</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #tabuleiro {
            position: relative;
            width: 100vw;
            height: 100vh;
            background-color: #f0f0f0;
            border: 2px solid #000;
        }
        #quadrado {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: red;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .bolinha {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: blue;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id="tabuleiro">
        <div id="quadrado"></div>
    </div>

    <script>
        const tabuleiro = document.getElementById('tabuleiro');
        const quadrado = document.getElementById('quadrado');
        const bolinhas = [];
        const numBolinhas = 5;

        // Tamanho do tabuleiro
        const larguraTabuleiro = tabuleiro.offsetWidth;
        const alturaTabuleiro = tabuleiro.offsetHeight;

        // Função para criar bolinhas (agora com velocidades mais altas)
        function criarBolinhas() {
            for (let i = 0; i < numBolinhas; i++) {
                const bolinha = document.createElement('div');
                bolinha.classList.add('bolinha');
                bolinha.style.left = Math.random() * (larguraTabuleiro - 20) + 'px';
                bolinha.style.top = Math.random() * (alturaTabuleiro - 20) + 'px';
                tabuleiro.appendChild(bolinha);
                bolinhas.push({
                    element: bolinha,
                    // Aumentando a velocidade das bolinhas para tornar o jogo mais desafiador
                    velocidadeX: (Math.random() - 0.5) * 8,  // Aumentado de 4 para 8
                    velocidadeY: (Math.random() - 0.5) * 8   // Aumentado de 4 para 8
                });
            }
        }

        // Função para mover o quadrado com o mouse ou toque
        let isTouching = false;
        let touchStartX = 0;
        let touchStartY = 0;

        function moverQuadrado(x, y) {
            let posX = x - quadrado.offsetWidth / 2;
            let posY = y - quadrado.offsetHeight / 2;
            posX = Math.max(0, Math.min(posX, larguraTabuleiro - quadrado.offsetWidth));
            posY = Math.max(0, Math.min(posY, alturaTabuleiro - quadrado.offsetHeight));
            quadrado.style.left = posX + 'px';
            quadrado.style.top = posY + 'px';
        }

        // Detectando o movimento do mouse
        document.addEventListener('mousemove', (event) => {
            if (!isTouching) {
                moverQuadrado(event.clientX, event.clientY);
            }
        });

        // Detectando o toque no dispositivo móvel
        tabuleiro.addEventListener('touchstart', (event) => {
            isTouching = true;
            touchStartX = event.touches[0].clientX;
            touchStartY = event.touches[0].clientY;
        });

        tabuleiro.addEventListener('touchmove', (event) => {
            event.preventDefault(); // Impede o scroll enquanto move o quadrado
            const touchX = event.touches[0].clientX;
            const touchY = event.touches[0].clientY;
            moverQuadrado(touchX, touchY);
        });

        tabuleiro.addEventListener('touchend', () => {
            isTouching = false;
        });

        // Função para atualizar a posição das bolinhas
        function atualizarBolinhas() {
            bolinhas.forEach((bolinha) => {
                const bolinhaRect = bolinha.element.getBoundingClientRect();
                if (bolinhaRect.left <= 0 || bolinhaRect.right >= larguraTabuleiro) {
                    bolinha.velocidadeX *= -1;
                }
                if (bolinhaRect.top <= 0 || bolinhaRect.bottom >= alturaTabuleiro) {
                    bolinha.velocidadeY *= -1;
                }

                bolinha.element.style.left = bolinha.element.offsetLeft + bolinha.velocidadeX + 'px';
                bolinha.element.style.top = bolinha.element.offsetTop + bolinha.velocidadeY + 'px';

                // Verificar colisão com o quadrado
                const quadradoRect = quadrado.getBoundingClientRect();
                if (
                    bolinhaRect.left < quadradoRect.right &&
                    bolinhaRect.right > quadradoRect.left &&
                    bolinhaRect.top < quadradoRect.bottom &&
                    bolinhaRect.bottom > quadradoRect.top
                ) {
                    // Colisão detectada - reiniciar jogo
                    alert('Você encostou em uma bolinha! Recomeçando...');
                    quadrado.style.left = (larguraTabuleiro / 2 - 25) + 'px';
                    quadrado.style.top = (alturaTabuleiro / 2 - 25) + 'px';

                    // Reposicionar bolinhas aleatoriamente
                    bolinhas.forEach((b) => {
                        b.element.style.left = Math.random() * (larguraTabuleiro - 20) + 'px';
                        b.element.style.top = Math.random() * (alturaTabuleiro - 20) + 'px';
                    });
                }
            });
        }

        // Inicialização
        criarBolinhas();
        setInterval(atualizarBolinhas, 16); // Atualiza a cada frame (aproximadamente 60 FPS)
    </script>
</body>
</html>

        setInterval(atualizarBolinhas, 16); // Atualiza a cada frame (aproximadamente 60 FPS)
    </script>
</body>
</html>
